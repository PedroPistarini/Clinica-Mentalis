import{j as b,g as w,o as c,d as m,A as V,c as $,w as p,a as e,b as r,t as l,e as y,m as E,f as d,u as t,n as x}from"./app.fe2514dc.js";import{_ as q}from"./AuthenticatedLayout.89e9189d.js";import{_ as F}from"./PrimaryButton.22dd7816.js";import{_ as h}from"./TextInput.d05d359b.js";import"./ApplicationLogo.02a0e2a0.js";import"./_plugin-vue_export-helper.cdc0426e.js";const C=["value"],N={__name:"TextArea",props:["modelValue"],emits:["update:modelValue"],setup(g){const o=b(null);return w(()=>{o.value.hasAttribute("autofocus")&&o.value.focus()}),(i,a)=>(c(),m("textarea",{class:"border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",value:g.modelValue,onInput:a[0]||(a[0]=v=>i.$emit("update:modelValue",v.target.value)),ref_key:"textarea",ref:o},null,40,C))}};const U={class:"font-semibold text-xl text-gray-800 leading-tight"},j={key:0,href:"/agendamentos/agenda",class:"nav-button ml-4",style:{float:"right"}},B={key:0,class:"ficha-container"},T=e("h1",null,"Ficha Paciente",-1),z={key:0},M={class:"info-item"},O=e("strong",null,"Nome:",-1),D={class:"info-item"},I=e("strong",null,"Endere\xE7o:",-1),P={class:"info-item"},G=e("strong",null,"Telefone:",-1),H={class:"info-item"},J=e("strong",null,"Email:",-1),K={key:1},L={class:"info-item"},Q=e("label",{for:"name",class:"label"},"Nome",-1),R={class:"info-item"},W=e("label",{for:"endereco",class:"label"},"Endere\xE7o",-1),X={class:"info-item"},Y=e("label",{for:"telefone",class:"label"},"Telefone",-1),Z={class:"info-item"},ee=e("label",{for:"email",class:"label"},"Email",-1),oe=e("label",{for:"anotacao",class:"label"},"Anota\xE7\xE3o da Sess\xE3o",-1),ae=e("div",null,[e("a",{href:"/download-encaminhamento",class:"toggle-button"},"Encaminhamento"),e("a",{href:"/download-atestado",class:"toggle-button"},"Atestado")],-1),de={__name:"Anotacao",props:{agendamento:Object,user_psicologo:Object,user_paciente:Object},setup(g){const o=g,i=V({anotacao:o.agendamento.anotacao}),a=V({name:o.user_paciente.name,endereco:o.user_paciente.endereco,telefone:o.user_paciente.telefone,email:o.user_paciente.email}),v=()=>{i.post(route("nova-anotacao",{id:o.agendamento.id}),{onError:u=>{console.error("Form submission error:",u),alert("Erro ao salvar anota\xE7\xE3o")}})},k=()=>{a.put(route("update-ficha",{id:o.agendamento.id}),{onSuccess:()=>{alert("Ficha atualizada com sucesso")},onError:u=>{console.error("Form submission error:",u),alert("Erro ao atualizar ficha")}})},_=b(!1),f=b(!1),A=()=>{_.value=!_.value},S=()=>{f.value=!f.value};return(u,s)=>(c(),$(q,null,{header:p(()=>[e("h2",U,[r(" Sess\xE3o: "+l(o.agendamento.data)+" | "+l(o.user_paciente.name)+" ",1),u.$page.props.auth.user.permissao===0?(c(),m("a",j,"Agendar")):y("",!0)])]),default:p(()=>[e("div",null,[e("button",{onClick:A,class:"toggle-button"},l(_.value?"Esconder Ficha":"Mostrar Ficha"),1),_.value?(c(),m("div",B,[T,e("button",{onClick:S,class:"edit-button"},l(f.value?"Cancelar":"Editar"),1),f.value?(c(),m("div",K,[e("form",{onSubmit:E(k,["prevent"])},[e("div",L,[Q,d(h,{id:"name",modelValue:t(a).name,"onUpdate:modelValue":s[0]||(s[0]=n=>t(a).name=n),class:"input-field",required:""},null,8,["modelValue"])]),e("div",R,[W,d(h,{id:"endereco",modelValue:t(a).endereco,"onUpdate:modelValue":s[1]||(s[1]=n=>t(a).endereco=n),class:"input-field",required:""},null,8,["modelValue"])]),e("div",X,[Y,d(h,{id:"telefone",modelValue:t(a).telefone,"onUpdate:modelValue":s[2]||(s[2]=n=>t(a).telefone=n),class:"input-field",required:""},null,8,["modelValue"])]),e("div",Z,[ee,d(h,{id:"email",modelValue:t(a).email,"onUpdate:modelValue":s[3]||(s[3]=n=>t(a).email=n),class:"input-field",required:""},null,8,["modelValue"])]),d(F,{class:x(["ml-4",{"opacity-25":t(a).processing}]),disabled:t(a).processing},{default:p(()=>[r(" Salvar ")]),_:1},8,["class","disabled"])],32)])):(c(),m("div",z,[e("div",M,[O,r(" "+l(o.user_paciente.name),1)]),e("div",D,[I,r(" "+l(o.user_paciente.endereco),1)]),e("div",P,[G,r(" "+l(o.user_paciente.telefone),1)]),e("div",H,[J,r(" "+l(o.user_paciente.email),1)])]))])):y("",!0)]),e("form",{class:"container",onSubmit:E(v,["prevent"])},[oe,d(N,{id:"anotacao",type:"text",class:"styled-textarea",modelValue:t(i).anotacao,"onUpdate:modelValue":s[4]||(s[4]=n=>t(i).anotacao=n),required:"",autocomplete:"Escreva aqui"},null,8,["modelValue"]),d(F,{class:x(["ml-4",{"opacity-25":t(i).processing}]),disabled:t(i).processing},{default:p(()=>[r(" Salvar ")]),_:1},8,["class","disabled"])],32),ae]),_:1}))}};export{de as default};
